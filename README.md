# Auth Service - Сервис аутентификации

Сервис аутентификации на основе FastAPI с JWT, SQLAlchemy и PostgreSQL. Поддерживает регистрацию пользователей, вход в систему и защищенные маршруты типа `/me`. Включает тесты с pytest и поддержку Docker для легкого развертывания.

## Особенности

- **Регистрация пользователей**: Создание новых пользователей с помощью `/API/v0.1/register`.
- **Вход пользователей**: Аутентификация пользователей и получение JWT-токенов с помощью `/API/v0.1/login`.
- **Защищенные маршруты**: Доступ к данным пользователя с помощью `/API/v0.1/me` с использованием JWT.
- **Доступ на основе ролей**: Поддерживает роли `user` и `admin` (с возможностью расширения до `/admin-only`).
- **Тесты**: Полный набор тестов с `pytest`.
- **Поддержка докеров**: Готовность к контейнерному развертыванию.

## Технологический стек

- **FastAPI**: Высокопроизводительный веб-фреймворк для создания API.
- **SQLAlchemy**: ORM для базы данных PostgreSQL.
- **PostgreSQL**: База данных для хранения пользовательских данных.
- **JWT**: Безопасная аутентификация на основе токенов.
- **Pytest**: Фреймворк для тестирования модульных тестов.


Ниже будет описана последовательность шагов для локального развертывания приложения на ОС Linux Ubuntu

### Обновление системы
```
sudo apt update && sudo apt upgrade -y
```

### Установка Python с необходимыми пакетами
```
sudo apt install python3 python3-pip python3-venv -y
python3 --version
```

### Установка curl, необходимого для менеджера пакетов uv
```
sudo apt install curl
curl --version
```

### Установка UV - менеджера управления зависимостями
```
curl -LsSf https://astral.sh/uv/install.sh | sh
uv --version
```

Перейдите в директорию, куда вы хотите клонировать репозиторий

### Клонирование репозитория
```
git clone https://github.com/heavenyoung1/auth_service.git
```

Важно! Переоткройте терминал и продолжите выполнение, открыв клонированный репозиторий и перейдя в папку /backend/ следующей командой
```
cd /ваш_путь/auth_service/backend
```

### Создание виртуального окружения при помощи UV и его активация
```
uv venv
source .venv/bin/activate
```
### Установка зависимостей из файла pyproject.toml
```
uv sync
```
